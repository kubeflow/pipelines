apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: kubeflow

resources:
- ../../pipeline
- ../../cache
- ../../cache-deployer
- pipeline-install-config.yaml
- mysql-secret.yaml

replacements:
- source:
    kind: ConfigMap
    name: pipeline-install-config
    fieldPath: data.defaultPipelineRoot
  targets:
  # TODO: add one target per place where the placeholder appears
  # Example target (adjust kind/name/fieldPaths to your actual usage):
  - select:
      kind: ConfigMap
      name: ml-pipeline
    fieldPaths:
    - data.defaultPipelineRoot
    options:
      create: true