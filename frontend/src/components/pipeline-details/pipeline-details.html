<dom-module id="pipeline-details">
  <template>
    <link rel="stylesheet" href="./pipeline-details.css">

    <div class="toolbar">
      <a href="/pipelines" class="unstyled">
        <paper-icon-button icon="arrow-back"></paper-icon-button>
      </a>
      <div class="toolbar-title">Pipeline Details</div>
    </div>

    <div class="padded-20">
      <div class="pipeline-name padded">
        [[pipeline.name]]
        <span class="padded faded">[[[pipeline.id]]]</span>
      </div>

      <div class="tabs-container">
        <paper-tabs class="no-shrink" selected="{{selectedTab}}">
          <paper-tab>Basic Config</paper-tab>
          <paper-tab>Past Runs</paper-tab>
        </paper-tabs>
      </div>

      <iron-pages selected="{{selectedTab}}">

        <!-- iron-page tab 1 -->
        <div>

          <br/>
          <div class="details-table">
            <div>
              <span class="detail-title">Pipeline Package ID</span>
              <span>[[pipeline.packageId]]</span>
            </div>
            <div>
              <span class="detail-title">Description</span>
              <span>[[pipeline.description]]</span>
            </div>
            <div>
              <span class="detail-title">Created</span>
              <span>[[pipeline.createdAt]]</span>
            </div>
            <div>
              <span class="detail-title">Starts</span>
              <span>[[_dateToString(pipeline.starts)]]</span>
            </div>
            <div>
              <span class="detail-title">Ends</span>
              <span>[[_dateToString(pipeline.ends)]]</span>
            </div>
            <div>
              <span class="detail-title">Recurring</span>
              <span>[[pipeline.recurring]]</span>
            </div>

            <template is="dom-if" if="[[pipeline.recurring]]">
              <div>
                <span class="detail-title">Runs every</span>
                <span>[[pipeline.recurringIntervalHours]] hours</span>
              </div>
            </template>

          </div>

          <br/>
          <br/>

          <template is="dom-if" if="[[pipeline.parameters.length]]">
            <div class="input-param-header">Input Parameters</div>
            <div class="details-table">
              <template is="dom-repeat" items="[[pipeline.parameters]]" as="param">
                <div>
                  <span class="detail-title">[[param.name]]</span>
                  <span>[[param.value]]</span>
                </div>
              </template>
            </div>
          </template>

        </div>

        <!-- iron-page tab 2 -->
        <job-list id="jobs"></job-list>
      </iron-pages>
    </div>

  </template>
</dom-module>
