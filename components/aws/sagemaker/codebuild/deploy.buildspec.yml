version: 0.2      
phases:
  pre_build:
    commands:
      # Log in to Dockerhub
      - export DOCKER_CONFIG_PATH="~/.docker"
      - mkdir -p $DOCKER_CONFIG_PATH
      - echo $DOCKER_CONFIG > "$DOCKER_CONFIG_PATH/config.json"

  build:
    commands:
      - cd components/aws/sagemaker
      - ./codebuild/scripts/deploy.sh -d "${DRY_RUN}"