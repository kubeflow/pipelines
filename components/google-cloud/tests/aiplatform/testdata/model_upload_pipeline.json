{
  "pipelineSpec":{
     "components":{
        "comp-model-upload":{
           "executorLabel":"exec-model-upload",
           "inputDefinitions":{
              "parameters":{
                 "artifact_uri":{
                    "type":"STRING"
                 },
                 "description":{
                    "type":"STRING"
                 },
                 "display_name":{
                    "type":"STRING"
                 },
                 "encryption_spec_key_name":{
                    "type":"STRING"
                 },
                 "explanation_metadata":{
                    "type":"STRING"
                 },
                 "explanation_parameters":{
                    "type":"STRING"
                 },
                 "instance_schema_uri":{
                    "type":"STRING"
                 },
                 "labels":{
                    "type":"STRING"
                 },
                 "location":{
                    "type":"STRING"
                 },
                 "parameters_schema_uri":{
                    "type":"STRING"
                 },
                 "prediction_schema_uri":{
                    "type":"STRING"
                 },
                 "project":{
                    "type":"STRING"
                 },
                 "serving_container_args":{
                    "type":"STRING"
                 },
                 "serving_container_command":{
                    "type":"STRING"
                 },
                 "serving_container_environment_variables":{
                    "type":"STRING"
                 },
                 "serving_container_health_route":{
                    "type":"STRING"
                 },
                 "serving_container_image_uri":{
                    "type":"STRING"
                 },
                 "serving_container_ports":{
                    "type":"STRING"
                 },
                 "serving_container_predict_route":{
                    "type":"STRING"
                 }
              }
           },
           "outputDefinitions":{
              "artifacts":{
                 "model":{
                    "artifactType":{
                       "schemaTitle":"google.VertexModel",
                       "schemaVersion":"0.0.1"
                    }
                 }
              },
              "parameters":{
                 "gcp_resources":{
                    "type":"STRING"
                 }
              }
           }
        }
     },
     "deploymentSpec":{
        "executors":{
           "exec-model-upload":{
              "container":{
                 "args":[
                    "--type",
                    "UploadModel",
                    "--payload",
                    "{\"display_name\": \"{{$.inputs.parameters['display_name']}}\", \"description\": \"{{$.inputs.parameters['description']}}\", \"predict_schemata\": {\"instance_schema_uri\": \"{{$.inputs.parameters['instance_schema_uri']}}\", \"parameters_schema_uri\": \"{{$.inputs.parameters['parameters_schema_uri']}}\", \"prediction_schema_uri\": \"{{$.inputs.parameters['prediction_schema_uri']}}\"}, \"container_spec\": {\"image_uri\": \"{{$.inputs.parameters['serving_container_image_uri']}}\", \"command\": {{$.inputs.parameters['serving_container_command']}}, \"args\": {{$.inputs.parameters['serving_container_args']}}, \"env\": {{$.inputs.parameters['serving_container_environment_variables']}}, \"ports\": {{$.inputs.parameters['serving_container_ports']}}, \"predict_route\": \"{{$.inputs.parameters['serving_container_predict_route']}}\", \"health_route\": \"{{$.inputs.parameters['serving_container_health_route']}}\"}, \"artifact_uri\": \"{{$.inputs.parameters['artifact_uri']}}\", \"explanation_spec\": {\"parameters\": {{$.inputs.parameters['explanation_parameters']}}, \"metadata\": {{$.inputs.parameters['explanation_metadata']}}}, \"encryption_spec\": {\"kms_key_name\":\"{{$.inputs.parameters['encryption_spec_key_name']}}\"}, \"labels\": {{$.inputs.parameters['labels']}}}",
                    "--project",
                    "{{$.inputs.parameters['project']}}",
                    "--location",
                    "{{$.inputs.parameters['location']}}",
                    "--gcp_resources",
                    "{{$.outputs.parameters['gcp_resources'].output_file}}",
                    "--executor_input",
                    "{{$}}"
                 ],
                 "command":[
                    "python3",
                    "-u",
                    "-m",
                    "google_cloud_pipeline_components.container.experimental.gcp_launcher.launcher"
                 ],
                 "image":"gcr.io/ml-pipeline/google-cloud-pipeline-components:latest"
              }
           }
        }
     },
     "pipelineInfo":{
        "name":"training-test"
     },
     "root":{
        "dag":{
           "tasks":{
              "model-upload":{
                 "cachingOptions":{
                    "enableCache":true
                 },
                 "componentRef":{
                    "name":"comp-model-upload"
                 },
                 "inputs":{
                    "parameters":{
                       "artifact_uri":{
                          "runtimeValue":{
                             "constantValue":{
                                "stringValue":"some artifact_uri"
                             }
                          }
                       },
                       "description":{
                          "runtimeValue":{
                             "constantValue":{
                                "stringValue":"some description"
                             }
                          }
                       },
                       "display_name":{
                          "runtimeValue":{
                             "constantValue":{
                                "stringValue":"test_display_name"
                             }
                          }
                       },
                       "encryption_spec_key_name":{
                          "runtimeValue":{
                             "constantValue":{
                                "stringValue":"some encryption_spec_key_name"
                             }
                          }
                       },
                       "explanation_metadata":{
                          "runtimeValue":{
                             "constantValue":{
                                "stringValue":"{\"xai_m\":\"bar\"}"
                             }
                          }
                       },
                       "explanation_parameters":{
                          "runtimeValue":{
                             "constantValue":{
                                "stringValue":"{\"xai_p\":\"foo\"}"
                             }
                          }
                       },
                       "instance_schema_uri":{
                          "runtimeValue":{
                             "constantValue":{
                                "stringValue":"some instance_schema_uri"
                             }
                          }
                       },
                       "labels":{
                          "runtimeValue":{
                             "constantValue":{
                                "stringValue":"{\"foo\": \"bar\"}"
                             }
                          }
                       },
                       "location":{
                          "runtimeValue":{
                             "constantValue":{
                                "stringValue":"us-central1"
                             }
                          }
                       },
                       "parameters_schema_uri":{
                          "runtimeValue":{
                             "constantValue":{
                                "stringValue":"some parameters_schema_uri"
                             }
                          }
                       },
                       "prediction_schema_uri":{
                          "runtimeValue":{
                             "constantValue":{
                                "stringValue":"some prediction_schema_uri"
                             }
                          }
                       },
                       "project":{
                          "runtimeValue":{
                             "constantValue":{
                                "stringValue":"test_project"
                             }
                          }
                       },
                       "serving_container_args":{
                          "runtimeValue":{
                             "constantValue":{
                                "stringValue":"[\"arg1\", \"arg2\"]"
                             }
                          }
                       },
                       "serving_container_command":{
                          "runtimeValue":{
                             "constantValue":{
                                "stringValue":"[\"command1\", \"command2\"]"
                             }
                          }
                       },
                       "serving_container_environment_variables":{
                          "runtimeValue":{
                             "constantValue":{
                                "stringValue":"[\"env1\", \"env2\"]"
                             }
                          }
                       },
                       "serving_container_health_route":{
                          "runtimeValue":{
                             "constantValue":{
                                "stringValue":"some serving_container_health_route"
                             }
                          }
                       },
                       "serving_container_image_uri":{
                          "runtimeValue":{
                             "constantValue":{
                                "stringValue":"gcr.io/test_project/test_image:test_tag"
                             }
                          }
                       },
                       "serving_container_ports":{
                          "runtimeValue":{
                             "constantValue":{
                                "stringValue":"[\"123\",\"456\"]"
                             }
                          }
                       },
                       "serving_container_predict_route":{
                          "runtimeValue":{
                             "constantValue":{
                                "stringValue":"some serving_container_predict_route"
                             }
                          }
                       }
                    }
                 },
                 "taskInfo":{
                    "name":"model-upload"
                 }
              }
           }
        }
     },
     "schemaVersion":"2.0.0"
  },
  "runtimeConfig":{}
}