name: 'Check Artifact Exists'
description: 'Check if a GitHub artifact exists in the current workflow run'
author: 'KFP Team'

inputs:
  artifact_name:
    description: 'Name of the artifact to check'
    required: true

outputs:
  exists:
    description: 'Whether the artifact exists (true/false)'
    value: ${{ steps.check.outputs.exists }}

runs:
  using: 'composite'
  steps:
    - name: Setup Python
      uses: actions/setup-python@v4
      with:
        python-version: '3.11'

    - name: Install dependencies
      shell: bash
      run: |
        python -m pip install --upgrade pip
        pip install requests

    - name: Check artifact exists
      shell: bash
      id: check
      run: python ${{ github.action_path }}/check_artifact.py
      env:
        INPUT_ARTIFACT_NAME: ${{ inputs.artifact_name }}

branding:
  icon: 'search'
  color: 'blue'